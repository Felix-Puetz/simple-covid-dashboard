(this["webpackJsonpsimple-covid-dashboard"]=this["webpackJsonpsimple-covid-dashboard"]||[]).push([[0],{25:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),o=n(15),i=n.n(o),c=(n(25),n(4)),s=n.n(c),l=n(6),d=n(3),u=n(16),v=n(17),b=n(18),j=n.n(b),x=new(function(){function t(){Object(u.a)(this,t),this.axios=void 0,this.axios=j.a.create({baseURL:"https://disease.sh/v3/covid-19"})}return Object(v.a)(t,[{key:"worldwide",value:function(){return this.axios.get("/all")}},{key:"byCountry",value:function(t){return this.axios.get("/countries/".concat(t))}}]),t}()),h=n(0);function f(t){var e=t.initialCountry,n=t.onSubmit,a=Object(r.useState)(e),o=Object(d.a)(a,2),i=o[0],c=o[1];return Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(i)},children:[Object(h.jsx)("div",{}),Object(h.jsxs)("div",{className:"flex items-center border-b border-teal-500 py-2",children:[Object(h.jsx)("input",{className:"appearance-none bg-transparent border-none w-full text-gray-300 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Country","aria-label":"Country",value:i,onChange:function(t){c(t.target.value)}}),Object(h.jsx)("button",{className:"flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-2 text-white py-1 px-2 rounded",type:"button",children:"Search"})]})]})}function g(){return Object(h.jsx)("div",{className:"loading-dot rounded-full bg-white opacity-75 animate-ping w-8 h-8",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})}function p(){var t=(new Date).getFullYear();return Object(h.jsxs)("footer",{className:"bottom-0 z-50 text-white text-lg bg-gray-800 p-2 border-t-2 text-right",children:["\xa9 ",t," Felix P\xfctz"]})}function y(){return Object(h.jsx)("header",{className:"sticky top-0 z-50 text-white text-5xl text-center bg-gray-800 p-5 border-b",children:"COVID-19 Dashboard"})}var O=n(19),m=n.n(O);function w(t){var e=t.title,n=t.content;return"number"===typeof n&&(n=m()(n).format({thousandSeparated:!0})),Object(h.jsxs)("div",{className:"widget flex flex-col items-center w-full border-2 p-5 shadow-lg transform rounded-lg duration-150 bg-gray-800 border-gray-400 hover:scale-105 transition",children:[Object(h.jsx)("h3",{className:"text-xl text-gray-300 border-b border-gray-600 py-2 px-10",children:e}),Object(h.jsx)("div",{className:"p-5 text-2xl text-gray-300",children:n||Object(h.jsx)(g,{})})]})}function C(t){var e=t.title,n=t.widgets;return Object(h.jsxs)("div",{className:"\n      widgets-container \n      grid \n      grid-cols-3 \n      gap-4\n      my-10\n    ",children:[Object(h.jsxs)("h1",{className:"col-span-3 text-3xl text-white px-3",children:[" ",e," "]}),n.map((function(t,e){return Object(h.jsx)(w,{title:t.title,content:t.content},"widget-".concat(e))}))]})}var N=n(20),D=(n(46),new N.a({position:{y:"top",x:"right"},duration:5e3,dismissible:!0}));var S=function(){var t,e=Object(r.useState)(),n=Object(d.a)(e,2),a=n[0],o=n[1],i=Object(r.useState)(),c=Object(d.a)(i,2),u=c[0],v=c[1],b=Object(r.useState)("Germany"),j=Object(d.a)(b,2),O=j[0],m=j[1];Object(r.useEffect)((function(){(function(){var t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.byCountry(O);case 3:e=t.sent,v(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),D.error("Could not fetch data for country: <strong>".concat(O,"</strong>"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[O]),Object(r.useEffect)((function(){(function(){var t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.worldwide();case 3:e=t.sent,o(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),D.error("Failed to fetch worldwide data");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var w=[{title:"".concat((null===u||void 0===u?void 0:u.country)||O," Today"),widgets:[{title:"Cases",content:null===u||void 0===u?void 0:u.todayCases},{title:"Deaths",content:null===u||void 0===u?void 0:u.todayDeaths},{title:"Recovered",content:null===u||void 0===u?void 0:u.todayRecovered}]},{title:"".concat((null===u||void 0===u?void 0:u.country)||O," Total"),widgets:[{title:"Cases",content:null===u||void 0===u?void 0:u.cases},{title:"Deaths",content:null===u||void 0===u?void 0:u.deaths},{title:"Recovered",content:null===u||void 0===u?void 0:u.recovered}]}],N=[{title:"Worldwide Today",widgets:[{title:"Cases",content:null===a||void 0===a?void 0:a.todayCases},{title:"Deaths",content:null===a||void 0===a?void 0:a.todayDeaths},{title:"Recovered",content:null===a||void 0===a?void 0:a.todayRecovered}]},{title:"Worldwide Total",widgets:[{title:"Cases",content:null===a||void 0===a?void 0:a.cases},{title:"Deaths",content:null===a||void 0===a?void 0:a.deaths},{title:"Recovered",content:null===a||void 0===a?void 0:a.recovered}]}];return Object(h.jsxs)("div",{className:"App bg-gray-600",children:[Object(h.jsx)(y,{}),Object(h.jsxs)("main",{className:"Content w-full h-full relative p-5",children:[Object(h.jsxs)("div",{className:"grid grid-cols-2",children:[Object(h.jsx)("div",{className:"p-5 flex flex-row",children:(null===u||void 0===u||null===(t=u.countryInfo)||void 0===t?void 0:t.flag)?Object(h.jsx)("img",{src:null===u||void 0===u?void 0:u.countryInfo.flag,alt:"flag-".concat(O),className:"w-16"}):Object(h.jsx)(g,{})}),Object(h.jsx)(f,{initialCountry:O,onSubmit:function(t){t&&O!==t&&(v(void 0),m(t))}})]}),w.map((function(t){var e=t.title,n=t.widgets;return Object(h.jsx)(C,{title:e,widgets:n},e)})),Object(h.jsx)("hr",{}),N.map((function(t){var e=t.title,n=t.widgets;return Object(h.jsx)(C,{title:e,widgets:n},e)}))]}),Object(h.jsx)(p,{})]})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),o(t),i(t)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),k()}},[[47,1,2]]]);
//# sourceMappingURL=main.a2ecff9c.chunk.js.map